<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<title>ココちゃんとジャンケンしよう</title>
<style>
  body{
    font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif
  }
</style>
</head>

<body>
  <div class="container">
    <audio controls src="./img/MANYUKO - California.mp3" type="audio/mp3">BGM_California</audio>
    <div class="header">
      <img src="./img/janken-icon.png" alt="ジャンケンしよう">
      <h1>ココちゃんとジャンケンしよう</h1>
    </div>
    <div class="top_image">
      <img src="./img/POLY目玉焼き.png" alt="Pollyちゃん:">
    </div>
    <div class=""></div>
    <p id="message">トライボタンを押して始めてください</p>
    <button onclick="startGame()">トライ</button>
    <div id="choices" style="display: none;">
      <button onclick="playerChoice('rock')">グー</button>
      <button onclick="playerChoice('scissors')">チョキ</button>
      <button onclick="playerChoice('paper')">パー</button>
    </div>
    <p id="result"></p>

    <script>
      var playerSelection = '';
      var resultElement = document.getElementById('result');
      var messageElement = document.getElementById('message');
      var choicesElement = document.getElementById('choices');

      function startGame() {
      // 結果をクリアする
      resultElement.textContent = '';
      // メッセージを表示する
      messageElement.textContent = 'さあ、いくよー';
      setTimeout(function() {
        messageElement.textContent = 'じゃんけん';
        setTimeout(function() {
          messageElement.textContent = ' グー、チョキ、パー';
          choicesElement.style.display = 'block';
        }, 1000);
      }, 1000);
      }


      function playerChoice(choice) {
        playerSelection = choice;
        choicesElement.style.display = 'none';
        var choices = ['rock', 'scissors', 'paper'];
        var computerChoice = choices[Math.floor(Math.random() * 3)];

        // コンピューターの選択と一緒に勝ち負けを表示する
        var result = '';
        if (playerSelection === computerChoice) {
          result = 'あいこ！もう１回';
        } else if (
          (playerSelection === 'rock' && computerChoice === 'scissors') ||
          (playerSelection === 'scissors' && computerChoice === 'paper') ||
          (playerSelection === 'paper' && computerChoice === 'rock')
        ) {
          result = '勝ち！';
        } else {
          result = '負け！';
        }
        resultElement.textContent = 'あなた：' + playerSelection + ' Pollyちゃん：' + computerChoice + ' 結果は' + result;
      }
    </script>
  </div>
</body>
</html>
